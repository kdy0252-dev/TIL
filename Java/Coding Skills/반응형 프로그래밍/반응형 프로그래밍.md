---
id: 반응형 프로그래밍
started: 2025-06-04
tags:
  - ✅DONE
group:
  - "[[Java Coding Skills]]"
---
# 반응형 프로그래밍
반응형 프로그래밍(Reactive Programming)은 데이터 스트림과 변화의 전파에 중점을 둔 프로그래밍 패러다임이다. 이 패러다임은 비동기적이고 이벤트 기반의 시스템을 쉽게 구축할 수 있도록 도와준다.
## 핵심 개념
- **데이터 스트림(Data Streams)**: 시간에 따라 발생하는 데이터의 연속적인 흐름을 나타낸다.
- **변화의 전파(Propagation of Change)**: 데이터 스트림의 변화가 시스템 전체에 자동으로 전파되는 것을 의미한다.
- **비동기(Asynchronous)**: 작업을 동시에 실행하지 않고, 완료되는 순서대로 처리하는 방식을 의미한다.
- **이벤트 기반(Event-Driven)**: 특정 이벤트가 발생했을 때, 해당 이벤트에 등록된 코드를 실행하는 방식을 의미한다.
## 반응형 프로그래밍의 장점
- **높은 응답성(Responsiveness)**: 사용자 인터페이스나 시스템이 빠르게 반응하여 사용자 경험을 향상시킨다.
- **확장성(Scalability)**: 시스템이 더 많은 부하를 처리할 수 있도록 확장하기 쉽다.
- **유연성(Flexibility)**: 다양한 환경에서 동작할 수 있는 유연한 시스템을 구축할 수 있다.
- **유지보수성(Maintainability)**: 코드가 모듈화되어 있어 유지보수가 용이하다.
## RxJava를 사용한 반응형 프로그래밍 예시
RxJava는 Java VM에서 반응형 프로그래밍을 구현하기 위한 라이브러리다. Observable, Observer, Subject, Operator 등의 개념을 제공하여 데이터 스트림을 생성하고 처리할 수 있다.
### Observable 생성
Observable은 데이터 스트림을 나타내는 핵심 클래스다. 다양한 방식으로 Observable을 생성할 수 있다.
```java
// 1. Just를 사용하여 Observable 생성
Observable<String> observable = Observable.just("Hello, RxJava!");

// 2. FromIterable을 사용하여 Observable 생성
List<String> items = Arrays.asList("Item 1", "Item 2", "Item 3");
Observable<String> observableFromIterable = Observable.fromIterable(items);

// 3. Interval을 사용하여 Observable 생성 (일정 간격으로 데이터 발행)
Observable<Long> intervalObservable = Observable.interval(1, TimeUnit.SECONDS);
```
### Observer 구현
Observer는 Observable에서 발행하는 데이터를 구독하고 처리하는 인터페이스다.
```java
Observer<String> observer = new Observer<String>() {
    @Override
    public void onSubscribe(Disposable d) {
        System.out.println("Subscribed");
    }

    @Override
    public void onNext(String s) {
        System.out.println("Received: " + s);
    }

    @Override
    public void onError(Throwable e) {
        System.err.println("Error: " + e.getMessage());
    }

    @Override
    public void onComplete() {
        System.out.println("Completed");
    }
};
```
### Observable 구독
Observable을 생성하고 Observer를 구현했다면, Observable을 구독하여 데이터를 처리할 수 있다.
```java
observable.subscribe(observer);
```
### Operator 사용
RxJava는 다양한 Operator를 제공하여 데이터 스트림을 변환하고 필터링할 수 있다.
```java
// 1. Map Operator: 각 데이터를 변환
Observable<Integer> lengths = observable.map(String::length);

// 2. Filter Operator: 특정 조건에 맞는 데이터만 필터링
Observable<String> filtered = observable.filter(s -> s.startsWith("H"));

// 3. SubscribeOn과 ObserveOn: 스레드 관리
observable.subscribeOn(Schedulers.io()) // I/O 스레드에서 실행
    .observeOn(Schedulers.computation()) // 연산 스레드에서 결과 처리
    .subscribe(observer);
```
## Spring Boot 환경에서의 비동기 프로그래밍 예시
Spring Boot는 비동기 프로그래밍을 지원하기 위한 다양한 기능을 제공한다.
### @Async 어노테이션
`@Async` 어노테이션을 사용하면 메서드를 비동기적으로 실행할 수 있다.
```java
@Service
public class AsyncService {
    @Async
    public Future<String> processData() throws InterruptedException {
        System.out.println("Async method executing in thread: " + Thread.currentThread().getName());
        Thread.sleep(2000); // 2초 대기
        return new AsyncResult<>("Data processed");
    }
}
```
### WebFlux
Spring WebFlux는 반응형 프로그래밍을 지원하는 웹 프레임워크다. Netty를 기반으로 동작하며, 비동기 및 논블로킹 방식으로 요청을 처리한다.
```java
@RestController
public class ReactiveController {
    @GetMapping("/flux")
    public Flux<Integer> fluxExample() {
        return Flux.range(1, 5)
            .delayElements(Duration.ofSeconds(1)); // 1초 간격으로 데이터 발행
    }

    @GetMapping(value = "/stream", produces = MediaType.TEXT_EVENT_STREAM_VALUE)
    public Flux<String> streamExample() {
        return Flux.interval(Duration.ofSeconds(1))
            .map(tick -> "Tick: " + tick); // 1초마다 "Tick: {number}" 발행
    }
}
```
### Reactive Data Repositories
Spring Data Reactive Repositories를 사용하면 반응형 데이터 접근을 쉽게 구현할 수 있다.
```java
public interface ReactiveUserRepository extends ReactiveCrudRepository<User, String> {
    Flux<User> findByLastName(String lastName);
    Mono<User> findByEmail(String email);
}
```
## 주의사항
- 반응형 프로그래밍은 복잡성을 증가시킬 수 있으므로, 프로젝트의 요구사항과 팀의 숙련도를 고려하여 신중하게 적용해야 한다.
- 비동기 코드는 디버깅이 어려울 수 있으므로, 로깅과 모니터링을 철저히 해야 한다.
# Reference
- [ReactiveX](http://reactivex.io/)
- [Spring WebFlux](https://docs.spring.io/spring-framework/docs/current/reference/html/web-reactive.html)